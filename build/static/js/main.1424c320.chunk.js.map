{"version":3,"sources":["services/persons.js","components/Input.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","res","delete","Input","text","value","onChange","Filter","search","handleSearchChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","deletePerson","name","number","onClick","Persons","persons","map","Notification","message","style","color","background","fontSize","border","padding","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","setSearch","setMessage","error","setError","resetInput","sendMessage","msg","setTimeout","useEffect","personService","initialPersons","filteredPersons","filter","toLowerCase","includes","personFormData","event","preventDefault","personObject","valueEmpty","alert","personExists","i","length","findId","updatedPersons","returnedPerson","concat","target","console","log","window","confirm","catch","ReactDOM","render","document","getElementById"],"mappings":"iKACMA,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAkB9B,EAfA,SAACC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAa9B,EAVA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAACO,GAAD,OAASA,EAAIL,SAQpB,EALM,SAACG,GAEpB,OADgBP,IAAMU,OAAN,UAAgBX,EAAhB,YAA2BQ,IAC5BL,MAAK,SAACO,GAAD,OAASA,EAAIL,S,OCZpBO,EAND,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,SAAhB,OACZ,gCACGF,EADH,IACS,uBAAOC,MAAOA,EAAOC,SAAUA,QCO3BC,EARA,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,mBAAX,OACb,cAAC,EAAD,CACEL,KAAK,oBACLC,MAAOG,EACPF,SAAUG,KCUCC,EAdI,SAAC,GAAD,IAAGd,EAAH,EAAGA,KAAH,OACjB,uBAAMe,SAAUf,EAAKgB,UAArB,UACE,cAAC,EAAD,CAAOR,KAAK,QAAQC,MAAOT,EAAKiB,QAASP,SAAUV,EAAKkB,mBACxD,cAAC,EAAD,CACEV,KAAK,UACLC,MAAOT,EAAKmB,UACZT,SAAUV,EAAKoB,qBAEjB,8BACE,wBAAQC,KAAK,SAAb,uBCHSC,EAPA,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,aAAX,OACb,+BACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,wBAAQC,QAASH,EAAjB,wBCUWI,EAZC,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASL,EAAZ,EAAYA,aAAZ,OACd,6BACGK,EAAQC,KAAI,SAACP,GAAD,OACX,cAAC,EAAD,CAEEA,OAAQA,EACRC,aAAc,kBAAMA,EAAaD,KAF5BA,EAAOE,YCeLM,EApBM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAStB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,MAbmB,CACxBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,OAAQ,kBACRC,QAAS,OAQT,SACE,4BAAIN,OCKKO,EApBW,SAAC,GAAiB,IAAfP,EAAc,EAAdA,QAS3B,OAAgB,OAAZA,EACK,KAIP,qBAAKC,MAbmB,CACxBC,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,OAAQ,gBACRC,QAAS,OAQT,SACE,4BAAIN,OC8HKQ,EArIH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTZ,EADS,KACAa,EADA,OAEcD,mBAAS,IAFvB,mBAETxB,EAFS,KAEA0B,EAFA,OAGkBF,mBAAS,IAH3B,mBAGTtB,EAHS,KAGEyB,EAHF,OAIYH,mBAAS,IAJrB,mBAIT7B,EAJS,KAIDiC,EAJC,OAKcJ,mBAAS,MALvB,mBAKTT,EALS,KAKAc,EALA,OAMUL,mBAAS,MANnB,mBAMTM,EANS,KAMFC,EANE,KAyBVC,EAAa,WACjBN,EAAW,IACXC,EAAa,KAGTM,EAAc,SAACC,GACnBL,EAAWK,GACXC,YAAW,WACTN,EAAW,QACV,MAGLO,qBAAU,WACRC,IAAuBxD,MAAK,SAACyD,GAC3Bb,EAAWa,QAEZ,IAEH,IA8DMC,EAAkB3B,EAAQ4B,QAAO,SAAClC,GAAD,OACrCA,EAAOE,KAAKiC,cAAcC,SAAS/C,EAAO8C,kBAGtCE,EAAiB,CACrB5C,UAnEgB,SAAC6C,GACjBA,EAAMC,iBACN,IAAMC,EAAe,CACnBtC,KAAMR,EACNS,OAAQP,GAGV,GArCiB,SAAC4C,GAClB,QAASA,EAAatC,MAAQsC,EAAarC,QAoCvCsC,CAAWD,GACbE,MAAM,8BADR,CAKA,GA/CmB,SAACF,GAEpB,OADoBlC,EAAQC,KAAI,SAACP,GAAD,OAAYA,EAAOE,KAAKiC,iBACrCC,SAASI,EAAatC,KAAKiC,eA6C1CQ,CAAaH,GAAe,CAC9B,IAAM5D,EAvCK,SAAC4D,GACd,IAAK,IAAII,EAAI,EAAGA,EAAItC,EAAQuC,OAAQD,IAClC,GAAItC,EAAQsC,GAAG1C,KAAKiC,gBAAkBK,EAAatC,KAAKiC,cACtD,OAAO7B,EAAQsC,GAAGhE,GAoCTkE,CAAON,GASlB,OAPAT,EAAqBnD,EAAI4D,GACzBd,IACAC,EAAY,WAAD,OAAYa,EAAatC,YAEpC6B,IAAuBxD,MAAK,SAACwE,GAC3B5B,EAAW4B,MAKfhB,EAAqBS,GAAcjE,MAAK,SAACyE,GACvC7B,EAAWb,EAAQ2C,OAAOD,IAC1BtB,IACAC,EAAY,SAAD,OAAUa,EAAatC,YAwCpCR,UACAC,iBAnBuB,SAAC2C,GACxBlB,EAAWkB,EAAMY,OAAOhE,QAmBxBU,YACAC,mBAjByB,SAACyC,GAC1BjB,EAAaiB,EAAMY,OAAOhE,SAmB5B,OACE,gCACE,2CACA,cAAC,EAAD,CAAcuB,QAASA,IACvB,cAAC,EAAD,CAAmBA,QAASe,IAC5B,cAAC,EAAD,CAAQnC,OAAQA,EAAQC,mBArBD,SAACgD,GAC1BhB,EAAUgB,EAAMY,OAAOhE,UAsBrB,6DACA,cAAC,EAAD,CAAYT,KAAM4D,IAElB,yCACA,cAAC,EAAD,CAAS/B,QAAS2B,EAAiBhC,aArDlB,SAACD,GACpBmD,QAAQC,IAAIpD,GACRqD,OAAOC,QAAP,iBAAyBtD,EAAOE,KAAhC,QACF6B,EAA2B/B,EAAOpB,IAAI2E,OAAM,WAC1C9B,EAAS,kBAAD,OACYzB,EAAOE,KADnB,0CAGR2B,YAAW,WACTJ,EAAS,QACR,QAGLM,IAAuBxD,MAAK,SAACwE,GAC3B5B,EAAW4B,cC/FnBS,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.1424c320.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((res) => res.data);\n};\n\nconst deleteObject = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((res) => res.data);\n};\n\nexport default { getAll, create, update, deleteObject };\n","import React from \"react\";\n\nconst Input = ({ text, value, onChange }) => (\n  <div>\n    {text} <input value={value} onChange={onChange} />\n  </div>\n);\n\nexport default Input;\n","import React from \"react\";\nimport Input from \"./Input\";\n\nconst Filter = ({ search, handleSearchChange }) => (\n  <Input\n    text=\"filter shown with\"\n    value={search}\n    onChange={handleSearchChange}\n  />\n);\n\nexport default Filter;\n","import React from \"react\";\nimport Input from \"./Input\";\n\nconst PersonForm = ({ data }) => (\n  <form onSubmit={data.addPerson}>\n    <Input text=\"name:\" value={data.newName} onChange={data.handleNameChange} />\n    <Input\n      text=\"number:\"\n      value={data.newNumber}\n      onChange={data.handleNumberChange}\n    />\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Person = ({ person, deletePerson }) => (\n  <li>\n    {person.name} {person.number}\n    <button onClick={deletePerson}>delete</button>\n  </li>\n);\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({ persons, deletePerson }) => (\n  <ul>\n    {persons.map((person) => (\n      <Person\n        key={person.name}\n        person={person}\n        deletePerson={() => deletePerson(person)}\n      />\n    ))}\n  </ul>\n);\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: \"green\",\n    background: \"lightgrey\",\n    fontSize: 22,\n    border: \"3px solid green\",\n    padding: \"2px\",\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div style={notificationStyle}>\n      <p>{message}</p>\n    </div>\n  );\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst ErrorNotification = ({ message }) => {\n  const notificationStyle = {\n    color: \"red\",\n    background: \"lightgrey\",\n    fontSize: 22,\n    border: \"3px solid red\",\n    padding: \"2px\",\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div style={notificationStyle}>\n      <p>{message}</p>\n    </div>\n  );\n};\n\nexport default ErrorNotification;\n","import React, { useState, useEffect } from \"react\";\n\nimport personService from \"./services/persons\";\n\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport ErrorNotification from \"./components/ErrorNotification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n\n  const personExists = (personObject) => {\n    const personArray = persons.map((person) => person.name.toLowerCase());\n    return personArray.includes(personObject.name.toLowerCase());\n  };\n\n  const valueEmpty = (personObject) => {\n    return !(personObject.name && personObject.number);\n  };\n\n  const findId = (personObject) => {\n    for (let i = 0; i < persons.length; i++) {\n      if (persons[i].name.toLowerCase() === personObject.name.toLowerCase()) {\n        return persons[i].id;\n      }\n    }\n  };\n\n  const resetInput = () => {\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const sendMessage = (msg) => {\n    setMessage(msg);\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  };\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (valueEmpty(personObject)) {\n      alert(\"please fill all fields\");\n      return;\n    }\n\n    if (personExists(personObject)) {\n      const id = findId(personObject);\n\n      personService.update(id, personObject);\n      resetInput();\n      sendMessage(`Updated ${personObject.name}`);\n\n      personService.getAll().then((updatedPersons) => {\n        setPersons(updatedPersons);\n      });\n      return;\n    }\n\n    personService.create(personObject).then((returnedPerson) => {\n      setPersons(persons.concat(returnedPerson));\n      resetInput();\n      sendMessage(`Added ${personObject.name}`);\n    });\n  };\n\n  const deletePerson = (person) => {\n    console.log(person);\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.deleteObject(person.id).catch(() => {\n        setError(\n          `Information of ${person.name} has already been removed from server`\n        );\n        setTimeout(() => {\n          setError(null);\n        }, 5000);\n      });\n\n      personService.getAll().then((updatedPersons) => {\n        setPersons(updatedPersons);\n      });\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value);\n  };\n\n  const filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(search.toLowerCase())\n  );\n\n  const personFormData = {\n    addPerson,\n    newName,\n    handleNameChange,\n    newNumber,\n    handleNumberChange,\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <ErrorNotification message={error} />\n      <Filter search={search} handleSearchChange={handleSearchChange} />\n\n      <h2>add new contact information</h2>\n      <PersonForm data={personFormData} />\n\n      <h2>Numbers</h2>\n      <Persons persons={filteredPersons} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}