(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var r=t(14),a=t.n(r),c=t(3),o=t(1),u=t(4),s=t.n(u),i="/api/persons",l=function(){return s.a.get(i).then((function(e){return e.data}))},d=function(e){return s.a.post(i,e).then((function(e){return e.data}))},j=function(e){return s.a.delete("".concat(i,"/").concat(e)).then((function(e){return e.data}))},b=t(0),h=function(e){var n=e.text,t=e.value,r=e.onChange;return Object(b.jsxs)("div",{children:[n," ",Object(b.jsx)("input",{value:t,onChange:r})]})},f=function(e){var n=e.search,t=e.handleSearchChange;return Object(b.jsx)(h,{text:"filter shown with",value:n,onChange:t})},m=function(e){var n=e.data;return Object(b.jsxs)("form",{onSubmit:n.addPerson,children:[Object(b.jsx)(h,{text:"name:",value:n.newName,onChange:n.handleNameChange}),Object(b.jsx)(h,{text:"number:",value:n.newNumber,onChange:n.handleNumberChange}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"add"})})]})},O=function(e){var n=e.person,t=e.deletePerson;return Object(b.jsxs)("li",{children:[n.name," ",n.number,Object(b.jsx)("button",{onClick:t,children:"delete"})]})},x=function(e){var n=e.persons,t=e.deletePerson;return Object(b.jsx)("ul",{children:n.map((function(e){return Object(b.jsx)(O,{person:e,deletePerson:function(){return t(e)}},e.name)}))})},g=function(e){var n=e.message;return null===n?null:Object(b.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:22,border:"3px solid green",padding:"2px"},children:Object(b.jsx)("p",{children:n})})},p=function(e){var n=e.message;return null===n?null:Object(b.jsx)("div",{style:{color:"red",background:"lightgrey",fontSize:22,border:"3px solid red",padding:"2px"},children:Object(b.jsx)("p",{children:n})})},v=function(){var e=Object(o.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],a=Object(o.useState)(""),u=Object(c.a)(a,2),s=u[0],i=u[1],h=Object(o.useState)(""),O=Object(c.a)(h,2),v=O[0],C=O[1],w=Object(o.useState)(""),S=Object(c.a)(w,2),k=S[0],N=S[1],y=Object(o.useState)(null),P=Object(c.a)(y,2),L=P[0],z=P[1],D=Object(o.useState)(null),E=Object(c.a)(D,2),I=E[0],J=E[1];Object(o.useEffect)((function(){l().then((function(e){r(e)}))}),[]);var T=t.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())})),A={addPerson:function(e){e.preventDefault();var n={name:s,number:v};!function(e){return!(e.name&&e.number)}(n)?!function(e){return t.map((function(e){return e.name.toLowerCase()})).includes(e.name.toLowerCase())}(n)?d(n).then((function(e){r(t.concat(e)),i(""),C(""),z("Added ".concat(n.name)),setTimeout((function(){z(null)}),5e3)})):alert("".concat(n.name," already exists in phonebook")):alert("please fill all fields")},newName:s,handleNameChange:function(e){i(e.target.value)},newNumber:v,handleNumberChange:function(e){C(e.target.value)}};return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Phonebook"}),Object(b.jsx)(g,{message:L}),Object(b.jsx)(p,{message:I}),Object(b.jsx)(f,{search:k,handleSearchChange:function(e){N(e.target.value)}}),Object(b.jsx)("h2",{children:"add new contact information"}),Object(b.jsx)(m,{data:A}),Object(b.jsx)("h2",{children:"Numbers"}),Object(b.jsx)(x,{persons:T,deletePerson:function(e){console.log(e),window.confirm("Delete ".concat(e.name,"?"))&&(j(e.id).catch((function(){J("Information of ".concat(e.name," has already been removed from server")),setTimeout((function(){J(null)}),5e3)})),l().then((function(e){r(e)})))}})]})};a.a.render(Object(b.jsx)(v,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.72eab9c4.chunk.js.map