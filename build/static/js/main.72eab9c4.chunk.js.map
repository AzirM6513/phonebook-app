{"version":3,"sources":["services/persons.js","components/Input.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","res","Input","text","value","onChange","Filter","search","handleSearchChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","deletePerson","name","number","onClick","Persons","persons","map","Notification","message","style","color","background","fontSize","border","padding","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","setSearch","setMessage","error","setError","useEffect","personService","initalPersons","filteredPersons","filter","toLowerCase","includes","personFormData","event","preventDefault","personObject","valueEmpty","personExists","returnedPerson","concat","setTimeout","alert","target","console","log","window","confirm","catch","updatedPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.72eab9c4.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.post(`${baseUrl}/${id}`, newObject);\n  return request.then((res) => res.data);\n};\n\nconst deleteObject = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((res) => res.data);\n};\n\nexport default { getAll, create, update, deleteObject };\n","import React from \"react\";\n\nconst Input = ({ text, value, onChange }) => (\n  <div>\n    {text} <input value={value} onChange={onChange} />\n  </div>\n);\n\nexport default Input;\n","import React from \"react\";\nimport Input from \"./Input\";\n\nconst Filter = ({ search, handleSearchChange }) => (\n  <Input\n    text=\"filter shown with\"\n    value={search}\n    onChange={handleSearchChange}\n  />\n);\n\nexport default Filter;\n","import React from \"react\";\nimport Input from \"./Input\";\n\nconst PersonForm = ({ data }) => (\n  <form onSubmit={data.addPerson}>\n    <Input text=\"name:\" value={data.newName} onChange={data.handleNameChange} />\n    <Input\n      text=\"number:\"\n      value={data.newNumber}\n      onChange={data.handleNumberChange}\n    />\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Person = ({ person, deletePerson }) => (\n  <li>\n    {person.name} {person.number}\n    <button onClick={deletePerson}>delete</button>\n  </li>\n);\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({ persons, deletePerson }) => (\n  <ul>\n    {persons.map((person) => (\n      <Person\n        key={person.name}\n        person={person}\n        deletePerson={() => deletePerson(person)}\n      />\n    ))}\n  </ul>\n);\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: \"green\",\n    background: \"lightgrey\",\n    fontSize: 22,\n    border: \"3px solid green\",\n    padding: \"2px\",\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div style={notificationStyle}>\n      <p>{message}</p>\n    </div>\n  );\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst ErrorNotification = ({ message }) => {\n  const notificationStyle = {\n    color: \"red\",\n    background: \"lightgrey\",\n    fontSize: 22,\n    border: \"3px solid red\",\n    padding: \"2px\",\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div style={notificationStyle}>\n      <p>{message}</p>\n    </div>\n  );\n};\n\nexport default ErrorNotification;\n","import React, { useState, useEffect } from \"react\";\n\nimport personService from \"./services/persons\";\n\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport ErrorNotification from \"./components/ErrorNotification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(null);\n\n  const personExists = (personObject) => {\n    const personArray = persons.map((person) => person.name.toLowerCase());\n    return personArray.includes(personObject.name.toLowerCase());\n  };\n\n  const valueEmpty = (personObject) => {\n    return !(personObject.name && personObject.number);\n  };\n\n  useEffect(() => {\n    personService.getAll().then((initalPersons) => {\n      setPersons(initalPersons);\n    });\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (valueEmpty(personObject)) {\n      alert(\"please fill all fields\");\n      return;\n    }\n\n    if (personExists(personObject)) {\n      alert(`${personObject.name} already exists in phonebook`);\n      return;\n    }\n\n    personService.create(personObject).then((returnedPerson) => {\n      setPersons(persons.concat(returnedPerson));\n      setNewName(\"\");\n      setNewNumber(\"\");\n\n      setMessage(`Added ${personObject.name}`);\n      setTimeout(() => {\n        setMessage(null);\n      }, 5000);\n    });\n  };\n\n  const deletePerson = (person) => {\n    console.log(person);\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.deleteObject(person.id).catch(() => {\n        setError(\n          `Information of ${person.name} has already been removed from server`\n        );\n        setTimeout(() => {\n          setError(null);\n        }, 5000);\n      });\n\n      personService.getAll().then((updatedPersons) => {\n        setPersons(updatedPersons);\n      });\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value);\n  };\n\n  const filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(search.toLowerCase())\n  );\n\n  const personFormData = {\n    addPerson,\n    newName,\n    handleNameChange,\n    newNumber,\n    handleNumberChange,\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <ErrorNotification message={error} />\n      <Filter search={search} handleSearchChange={handleSearchChange} />\n\n      <h2>add new contact information</h2>\n      <PersonForm data={personFormData} />\n\n      <h2>Numbers</h2>\n      <Persons persons={filteredPersons} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}